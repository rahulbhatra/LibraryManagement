#Library Management Migration Script

##Author
    CREATE TABLE IF NOT EXISTS public.author
    (
        document_id bigint NOT NULL,
        person_id bigint NOT NULL,
        CONSTRAINT author_pkey PRIMARY KEY (document_id, person_id),
        CONSTRAINT fk6hvf724whhl6gil5s4l1jefje FOREIGN KEY (document_id)
        REFERENCES public.document (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
        CONSTRAINT fkd8cm5fy8qunfotg4xpdi1wad7 FOREIGN KEY (person_id)
        REFERENCES public.person (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
    )

##Book
    CREATE TABLE IF NOT EXISTS public.book
    (
        id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
        category character varying(255) COLLATE pg_catalog."default",
        edition integer NOT NULL,
        isbn character varying(255) COLLATE pg_catalog."default",
        title character varying(255) COLLATE pg_catalog."default",
        year integer NOT NULL,
        book_document_id bigint,
        published_by_id bigint NOT NULL,
        CONSTRAINT book_pkey PRIMARY KEY (id),
        CONSTRAINT fk3idh6pescpo2ay9h00k3v44p6 FOREIGN KEY (published_by_id)
        REFERENCES public.publisher (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
        CONSTRAINT fklhpe8m620k6wjulsb7ooftcna FOREIGN KEY (book_document_id)
        REFERENCES public.document (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
    )